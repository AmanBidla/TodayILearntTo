package com.race.average;


public class RaceAverage {

	public static void test(){
		String [] times ={"12:00 PM, DAY 1","12:01 PM, DAY 1"};
		String [] timesTwo = {"12:00 AM, DAY 2"};
		String [] timesThree = {"02:00 PM, DAY 19","02:00 PM, DAY 20","01:58 PM, DAY 20"};
		avgMinutes(times);
		avgMinutes(timesTwo);
		avgMinutes(timesThree);
	}
	
	public static double avgMinutes(String [] times){
		
		/* total number  */
		int totalTimes = times.length;
		int hh,mm,day;
 
		char t;
		int start = 60*8;
		double total = 0;
		for(int i=0;i<totalTimes;i++){
			String timePart = times[i].split(",")[0];
			int indexOfColen = timePart.indexOf(':');
			
			hh = getHH(timePart, indexOfColen);
			
			mm = getMM(timePart, indexOfColen);
			
			String ampm = timePart.substring(timePart.length()-2);
			
			String dayPart = times[i].split(",")[1];
			day = Integer.parseInt(dayPart.substring(5));
			System.out.println("day "+day);
			t = ampm.charAt(0);
			if(t=='P' && hh<12) hh+=12;
			if(t=='A' && hh==12) hh=0;
			int finish = hh*60+mm+(day-1)*60*24;
			total+=finish-start;
			
			System.out.println(ampm);
					
			
			System.out.println("hh "+hh+" mm "+mm);
			
		}
		total = Math.floor((total/totalTimes)+0.5);
		System.out.println("total "+total);
		return total;
		
	}

	private static int getMM(String timePart, int indexOfColen) {
		int mm;
		String mmm = timePart.substring(indexOfColen+1,indexOfColen+3);
		if(mmm.equals("00"))
			mm = 0;
		else
			mm = Integer.parseInt(mmm);
		return mm;
	}

	private static int getHH(String timePart, int indexOfColen) {
		int hh;
		String hhh = timePart.substring(0,indexOfColen);
		if(hhh.equals("00"))
			hh = 0;
		else
			hh = Integer.parseInt(hhh);
		return hh;
	}
	
	public static void main(String[] args) {
		test();
		
		String [] times = new String [args.length];
		for(int i=0;i<times.length;i++){
			times[i]=args[0];
		}
		
		double total = avgMinutes(times);
		System.out.println(" total average is "+total);
	}
}
